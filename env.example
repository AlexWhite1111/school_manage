# 教育CRM系统环境变量配置示例
# 复制此文件为 .env 并根据实际情况修改配置值

# =================================
# 基础配置
# =================================
NODE_ENV=production
# 可选值: development | production | test

# =================================
# 数据库配置
# =================================
# PostgreSQL连接字符串
DATABASE_URL="postgresql://crm_user:your_secure_password@localhost:5432/education_crm_prod"

# Docker环境下的数据库密码
DB_PASSWORD=your_secure_database_password

# =================================
# 安全配置
# =================================
# JWT密钥 (生产环境必须使用强密钥)
JWT_SECRET=your_jwt_secret_key
# 访问令牌有效期（可选），默认 7d。支持 '8h' | '24h' | '7d' 等格式
JWT_EXPIRES_IN=7d
# 刷新令牌有效期（可选），默认 30d
JWT_REFRESH_EXPIRES_IN=30d

# 允许的CORS源 (生产环境必须配置)
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# =================================
# 应用配置
# =================================
# 后端端口
PORT=3001

# 前端API地址
API_BASE_URL=https://api.your-domain.com/api
# 或本地开发: http://localhost:3001/api

# 前端应用标题
VITE_APP_TITLE=教育CRM系统

# =================================
# 文件上传配置
# =================================
# 最大文件大小 (字节)
MAX_FILE_SIZE=10485760

# 上传路径
UPLOAD_PATH=/var/www/education-crm/uploads

# =================================
# 日志配置
# =================================
# 日志级别: error | warn | info | debug
LOG_LEVEL=warn

# 日志文件路径
LOG_FILE=/var/log/education-crm/app.log

# =================================
# 邮件配置 (可选)
# =================================
# SMTP服务器
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@your-domain.com
SMTP_PASS=your_smtp_password

# 发件人信息
EMAIL_FROM=教育CRM系统 <noreply@your-domain.com>

# =================================
# Redis配置 (可选)
# =================================
# Redis连接URL
REDIS_URL=redis://localhost:6379

# =================================
# 监控和性能配置
# =================================
# 启用性能监控
ENABLE_MONITORING=true

# API限制配置
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =================================
# 开发环境特定配置
# =================================
# 开发环境下是否启用调试模式
DEBUG=false

# 开发环境数据库重置 (谨慎使用)
RESET_DB_ON_START=false

# =================================
# 生产环境配置示例
# =================================
# 生产环境请使用以下配置模板:

# NODE_ENV=production
# DATABASE_URL="postgresql://crm_user:ultra_secure_password_2024@prod-db-server:5432/education_crm_prod"
# JWT_SECRET=generated_with_openssl_rand_hex_64_or_similar_strong_key
# ALLOWED_ORIGINS=https://crm.yourdomain.com,https://www.crm.yourdomain.com
# API_BASE_URL=https://api.crm.yourdomain.com/api
# LOG_LEVEL=warn
# ENABLE_MONITORING=true 