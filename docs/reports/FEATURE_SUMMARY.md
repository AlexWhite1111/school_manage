# 项目功能总结

## 最新更新 - 及格线逻辑统一 (2025-08-03)

### 🎯 核心变更
统一了系统中所有及格线的计算逻辑，采用**归一化60分**作为基准：

#### 📏 新的及格线标准
- **基准定义**：归一化成绩60分为及格线
- **原始分数模式**：及格分 = (60 / 100) × 考试满分
- **归一化模式**：及格分 = 60分

#### 🔧 更新的组件和文件

**前端组件：**
1. **ExamScoreTrendChart.tsx**
   - 动态参考线中的及格线计算
   - 明确注释表达基于归一化60分的逻辑
   - Y轴显示优化，原始分模式显示合理分数范围

2. **StudentGrowthReport.tsx**  
   - 考试分析表格中的分数颜色编码
   - 添加注释说明颜色标准：≥80优秀(绿)，≥60及格(黄)，<60不及格(红)

**后端服务：**
3. **exam.service.ts**
   - 三处及格率计算逻辑更新
   - 从 `(exam.totalScore || 100) * 0.6` 改为 `(60 / 100) * (exam.totalScore || 100)`
   - 使逻辑更明确地表达基于归一化60分的计算

#### 💡 优势
- **逻辑统一**：所有及格线判断都基于同一标准
- **易于理解**：明确表达归一化分数作为评判基础
- **维护性强**：未来修改及格标准只需调整一个参数(60)

#### 🎨 用户体验改进
- **趋势图**：动态参考线正确显示每次考试的及格线
- **分数表格**：颜色编码准确反映及格状态
- **原始分模式**：Tooltip显示考试满分信息，Y轴显示合理数值范围

## 其他功能特性

### 🏆 优秀线计算 (前15%学生平均分)
- 收集班级所有学生的归一化成绩
- 按成绩降序排列，取前15%学生
- 计算前15%学生的平均分作为优秀线
- 原始分模式：(优秀线/100) × 满分

### 📊 动态参考线系统
- **及格线**：基于归一化60分
- **班级平均线**：每次考试的实际班级平均分
- **优秀线**：基于前15%学生的归一化平均分
- 所有参考线都根据选择的成绩模式动态计算

### 🎯 响应式设计
- 桌面端：雷达图和考试词云并列显示
- 移动端：上下堆叠布局
- 成长标签词云：独立完整行显示

### 🚀 成绩模式切换
- **归一化模式**：统一100分制，便于比较
- **原始分模式**：显示实际得分，保留考试难度信息
- 一键切换，所有图表同步更新 