# ✅ 公网访问配置检查清单

## 📊 基本信息
- **公网IP**: `137.184.237.130`
- **本机IP**: `192.168.0.216`
- **路由器IP**: `192.168.0.1`

## 🔄 配置步骤

### 步骤1: 配置Windows防火墙 ⏳
**操作**: 以管理员身份运行 `configure-firewall.bat`
- [ ] 开放端口 80
- [ ] 开放端口 3000  
- [ ] 开放端口 5173

### 步骤2: 配置路由器端口转发 ⏳
**操作**: 登录路由器 http://192.168.0.1
- [ ] 添加规则: 80 → 192.168.0.216:80
- [ ] 添加规则: 3000 → 192.168.0.216:3000
- [ ] 添加规则: 5173 → 192.168.0.216:5173
- [ ] 保存并重启路由器

### 步骤3: 更新应用配置 ✅
**状态**: 已完成
- [x] API地址已更新为公网IP
- [ ] 重新构建前端容器

### 步骤4: 重新构建服务 ⏳
**操作**: 运行重建命令
- [ ] 停止现有服务
- [ ] 重新构建前端
- [ ] 启动所有服务

### 步骤5: 测试公网访问 ⏳
**验证地址**:
- [ ] http://137.184.237.130:5173 (前端)
- [ ] http://137.184.237.130:3000 (后端)
- [ ] http://137.184.237.130:80 (统一入口)

## 🧪 测试方法

### 本地测试
```bash
curl -I http://137.184.237.130:3000/health
curl -I http://137.184.237.130:5173
```

### 外网测试
1. 使用手机关闭WiFi，用移动网络访问
2. 请朋友帮忙从其他网络测试访问
3. 使用在线工具检测端口开放状态

## ⚠️ 注意事项
- 公网暴露服务有安全风险，请注意数据安全
- 家庭宽带IP可能会变化，需要定期检查
- 部分运营商可能限制特定端口，如遇问题可更换端口

## 🆘 故障排除
如果无法访问，按以下顺序检查：
1. Docker服务是否正常运行
2. Windows防火墙是否已开放端口
3. 路由器端口转发是否正确配置
4. 公网IP是否发生变化
5. 运营商是否限制端口访问